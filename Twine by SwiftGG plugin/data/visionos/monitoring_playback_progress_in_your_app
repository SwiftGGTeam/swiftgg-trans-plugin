{"Monitoring playback progress in your app": {"zh": "", "tips": ""}, "Observe the playback of a media asset to update your app’s user-interface state.": {"zh": "", "tips": ""}, "Overview": {"zh": "", "tips": ""}, "Media playback apps commonly need to monitor playback progress to drive the state of player UI or perform other actions. Monitoring this state requires a higher level of time precision than key-value observing can deliver, so AVPlayer provides specific API to observe playback time. This article describes how you can observe this state at regular intervals or as playback crosses specific time boundaries.": {"zh": "", "tips": ""}, "Observe the current playback time at regular intervals": {"zh": "", "tips": ""}, "The most common way to observe a player’s current time is at regular intervals. Observing it this way is useful when driving the state of a time display in a player’s user interface.": {"zh": "", "tips": ""}, "To observe the player’s current time at regular intervals, call its addPeriodicTimeObserver(forInterval:queue:using:) method. This method takes a CMTime value that represents the interval at which to observe the time, a serial dispatch queue, and a callback that the player invokes at the specified time interval. The following example adds an observer that the player calls every half-second during normal playback:": {"zh": "", "tips": ""}, "Always pair a call to the player’s addPeriodicTimeObserver(forInterval:queue:using:) method with a call to removeTimeObserver(_:) when you’re finished monitoring the state. Failing to observe this rule results in undefined behavior.": {"zh": "", "tips": ""}, "Observe the playback of specific times within a media presentation": {"zh": "", "tips": ""}, "Another way to observe the player is when it crosses specific times boundaries during playback. You can respond to the passage of these times by updating your player UI or performing other actions.": {"zh": "", "tips": ""}, "To have the player notify your app as it cross specific points in the media timeline, call the player’s addBoundaryTimeObserver(forTimes:queue:using:) method. This method takes an array of NSValue objects that wrap CMTime values that define your boundary times, a serial dispatch queue, and a callback closure. The following example shows how to define boundary times for each quarter of playback:": {"zh": "", "tips": ""}, "If you add either a periodic or boundary time observer, you need to remove observation by calling removeTimeObserver(_:) when complete.": {"zh": "", "tips": ""}}